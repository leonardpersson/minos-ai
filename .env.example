#===================================================================
# MINOS-AI ENVIRONMENT CONFIGURATION
# Last Updated: December 9, 2024
#===================================================================

#-------------------------------------------------------------------
# CORE SYSTEM CONFIGURATION
#-------------------------------------------------------------------
# Server & Runtime
PORT=3000
HOST=0.0.0.0
NODE_ENV=development                            # Options: development, staging, production, test
LOG_LEVEL=debug                                 # Options: error, warn, info, debug, trace
WORKER_THREADS=4                                # Number of worker threads for CPU-intensive tasks
CLUSTER_MODE=false                              # Enable Node.js clustering
REQUEST_TIMEOUT_MS=30000                        # API request timeout in milliseconds
SHUTDOWN_GRACE_PERIOD=10000                     # MS to wait for graceful shutdown
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

#-------------------------------------------------------------------
# DATABASE & PERSISTENCE LAYER
#-------------------------------------------------------------------
# Primary PostgreSQL Database
DB_HOST=localhost
DB_PORT=5432
DB_NAME=minos_ai
DB_USER=postgres
DB_PASSWORD=postgres
DB_SSL=false
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_IDLE_TIMEOUT_MS=30000
DB_CONNECTION_TIMEOUT_MS=5000
DB_STATEMENT_TIMEOUT_MS=60000
DB_QUERY_LOG=true                               # Log slow queries (>1000ms)

# TimescaleDB (Time-series data)
TIMESCALE_HOST=localhost
TIMESCALE_PORT=5432
TIMESCALE_DB=minos_timeseries
TIMESCALE_USER=postgres
TIMESCALE_PASSWORD=postgres
TIMESCALE_CHUNK_INTERVAL_DAYS=7
TIMESCALE_RETENTION_DAYS=365

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_PREFIX=minos:
REDIS_MAX_RETRIES=10
REDIS_CONNECT_TIMEOUT=10000
REDIS_COMMAND_TIMEOUT=5000
REDIS_KEY_EXPIRY=86400                          # Default key expiry in seconds

#-------------------------------------------------------------------
# BLOCKCHAIN & SMART CONTRACT CONFIGURATION
#-------------------------------------------------------------------
# Solana Connection
SOLANA_CLUSTER_URL=https://api.devnet.solana.com
SOLANA_WALLET_PATH=./keypairs/deployer.json
SOLANA_WEBSOCKET_URL=wss://api.devnet.solana.com
SOLANA_COMMITMENT=confirmed                     # Options: processed, confirmed, finalized
SOLANA_TX_TIMEOUT=30000                         # Transaction timeout in milliseconds
SOLANA_TX_CONFIRMATION_STRATEGY=singleGossip    # Options: singleGossip, max, recent
SOLANA_RPC_REQUEST_BATCH_SIZE=100               # Maximum batch size for RPC requests

# Solana Program IDs
PROGRAM_ID_VAULT=                               # Vault program ID (set after deployment)
PROGRAM_ID_AI_AGENT=                            # AI Agent program ID (set after deployment)
PROGRAM_ID_GOVERNANCE=                          # Governance program ID (set after deployment)
PROGRAM_UPGRADE_AUTHORITY=                      # Public key of upgrade authority

# BPF Loader & Compilation
BPF_LOADER_PROGRAM_ID=BPFLoaderUpgradeab1e11111111111111111111111
SOLANA_COMPILER_PATH=/usr/local/bin/solana-compiler
BUILD_TARGET_DIRECTORY=./target/deploy
OPTIMIZE_FOR_SIZE=true                          # Optimize programs for size vs speed

#-------------------------------------------------------------------
# API SECURITY & AUTHENTICATION
#-------------------------------------------------------------------
# JWT Authentication
JWT_SECRET=development_jwt_secret_key_change_in_production
JWT_ALGORITHM=HS256                             # Options: HS256, HS384, HS512, RS256
JWT_ISSUER=minos-ai-platform
JWT_AUDIENCE=minos-ai-client
JWT_ACCESS_TOKEN_EXPIRY=2h
JWT_REFRESH_TOKEN_EXPIRY=7d
JWT_REFRESH_ROTATION=true                       # Rotate refresh tokens on use

# Rate Limiting & Security
RATE_LIMIT_WINDOW=15m
RATE_LIMIT_MAX=100
RATE_LIMIT_STRATEGY=sliding-window             # Options: fixed-window, sliding-window, token-bucket
API_KEY_HEADER=X-API-Key
ENABLE_HELMET=true                              # HTTP security headers
ENABLE_XSS_PROTECTION=true                      # XSS protection
ENABLE_CSRF_PROTECTION=true                     # CSRF protection
MAX_REQUEST_SIZE=10mb                           # Maximum request body size
IP_BLOCKING_THRESHOLD=100                       # Requests per minute to trigger IP blocking
FAILED_LOGIN_LOCKOUT_THRESHOLD=5                # Failed attempts before lockout
FAILED_LOGIN_LOCKOUT_DURATION=15m               # Lockout duration

#-------------------------------------------------------------------
# AI MODEL CONFIGURATION
#-------------------------------------------------------------------
# Model Endpoints
MODEL_ARIADNE_ENDPOINT=http://localhost:8501/v1/models/ariadne:predict
MODEL_ANDROGEUS_ENDPOINT=http://localhost:8502/v1/models/androgeus:predict
MODEL_DEUCALION_ENDPOINT=http://localhost:8503/v1/models/deucalion:predict

# Model Serving & Inference
MODEL_SERVING_FRAMEWORK=tensorflow-serving      # Options: tensorflow-serving, torchserve, triton
MODEL_CACHE_TTL=3600                            # Model cache TTL in seconds
INFERENCE_TIMEOUT=30000                         # Inference timeout in milliseconds
INFERENCE_BATCH_SIZE=32                         # Batch size for inference
GPU_MEMORY_FRACTION=0.7                         # Fraction of GPU memory to allocate
MODEL_WARM_UP=true                              # Pre-warm models on startup
MODEL_AUTO_RELOAD=true                          # Auto-reload models on file changes
MODEL_VERSION_POLICY=latest                     # Options: latest, specific, all

# Feature Engineering & Preprocessing
FEATURE_NORMALIZATION_METHOD=z-score            # Options: z-score, min-max, robust
TIME_SERIES_WINDOW_SIZE=144                     # 24h with 10-minute intervals
TECHNICAL_INDICATORS_LOOKBACK=30                # Days of lookback for technical indicators
OUTLIER_DETECTION_METHOD=iqr                    # Options: iqr, z-score, isolation-forest
SENTIMENT_ANALYSIS_ALGORITHM=bert-base          # Options: bert-base, finbert, distilbert

#-------------------------------------------------------------------
# INDEXER CONFIGURATION
#-------------------------------------------------------------------
# Indexing Parameters
INDEXER_BATCH_SIZE=500
INDEXER_POLL_INTERVAL=15000                     # Milliseconds between polling
INDEXER_MAX_CONCURRENT_TASKS=5
INDEXER_RETRY_ATTEMPTS=3
INDEXER_RETRY_DELAY=5000                        # Milliseconds between retries
HISTORICAL_INDEX_LIMIT=1000000
INDEXER_VERIFICATION_DEPTH=20                   # Blocks to verify for reorgs

# Block & Transaction Processing
TX_SAMPLING_RATE=1.0                            # 1.0 = 100% of transactions
SLOT_PROCESSING_STRATEGY=sequential             # Options: sequential, parallel
MAX_SLOTS_PER_BATCH=50
CONFIRMATION_THRESHOLD=32                       # Number of confirmations needed
FINALITY_VERIFICATION=true                      # Verify finality status

#-------------------------------------------------------------------
# MONITORING & OBSERVABILITY
#-------------------------------------------------------------------
# Prometheus Metrics
ENABLE_METRICS=true
METRICS_PORT=9090
METRICS_PATH=/metrics
METRICS_COLLECTION_INTERVAL=15000               # Collection interval in milliseconds

# Logging & Tracing
LOG_FORMAT=json                                 # Options: json, pretty, simple
ENABLE_REQUEST_LOGGING=true                     # Log HTTP requests
ENABLE_QUERY_LOGGING=true                       # Log database queries
ENABLE_DISTRIBUTED_TRACING=true                 # Enable OpenTelemetry tracing
JAEGER_ENDPOINT=http://localhost:14268/api/traces
SENTRY_DSN=                                     # Sentry error tracking DSN
CLOUD_WATCH_LOG_GROUP=minos-ai-logs
LOG_RETENTION_DAYS=30

# Health Checks
HEALTH_CHECK_INTERVAL=60000                     # Health check interval in milliseconds
HEALTH_CHECK_TIMEOUT=5000                       # Health check timeout
ENABLE_LIVENESS_PROBE=true                      # Kubernetes liveness probe endpoint
ENABLE_READINESS_PROBE=true                     # Kubernetes readiness probe endpoint

#-------------------------------------------------------------------
# EXTERNAL API INTEGRATIONS
#-------------------------------------------------------------------
# Market Data Sources
MARKET_DATA_API_KEY=
MARKET_DATA_BASE_URL=https://api.market-data-provider.com/v2
MARKET_DATA_CACHE_TTL=300                       # Cache TTL in seconds
MARKET_DATA_REQUEST_LIMIT=100                   # Requests per minute

# Social Sentiment Analysis
SOCIAL_SENTIMENT_API_KEY=
SOCIAL_SENTIMENT_BASE_URL=https://api.sentiment-provider.com/v1
SOCIAL_DATA_REFRESH_INTERVAL=3600               # Seconds between refreshes
SOCIAL_DATA_SOURCE_WEIGHT=0.3                   # Weight in combined model (0-1)

# News & Events
NEWS_API_KEY=
NEWS_API_BASE_URL=https://api.news-provider.com/v2
NEWS_REFRESH_INTERVAL=900                       # Seconds between refreshes
NEWS_SENTIMENT_THRESHOLD=0.6                    # Threshold for significant sentiment

#-------------------------------------------------------------------
# FEATURE FLAGS & EXPERIMENTAL FEATURES
#-------------------------------------------------------------------
# Core Features
FEATURE_GOVERNANCE=true
FEATURE_SOCIAL_TRADING=false
FEATURE_AUTOCOMPOUNDING=true
FEATURE_ADVANCED_ANALYTICS=false
FEATURE_MULTI_CHAIN_SUPPORT=false
FEATURE_DOLLAR_COST_AVERAGING=true
FEATURE_RISK_MANAGEMENT=true

# Experimental Features
EXPERIMENTAL_GENETIC_ALGORITHM=false            # Experimental: genetic algorithm for strategy optimization
EXPERIMENTAL_REINFORCEMENT_LEARNING=false       # Experimental: RL for dynamic strategy adaptation
EXPERIMENTAL_FEDERATED_LEARNING=false           # Experimental: privacy-preserving federated learning
EXPERIMENTAL_QUANTUM_RANDOM=false               # Experimental: quantum random number generator

#-------------------------------------------------------------------
# NOTIFICATION & COMMUNICATION
#-------------------------------------------------------------------
# Email Notifications
ENABLE_EMAIL_NOTIFICATIONS=false
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM=noreply@minos-ai.com
SMTP_SECURE=true                                # Use TLS
EMAIL_TEMPLATE_DIR=./templates/email
EMAIL_BATCH_SIZE=50                             # Emails per batch
EMAIL_SEND_RATE=10                              # Emails per second

# Push Notifications
ENABLE_PUSH_NOTIFICATIONS=false
FCM_SERVER_KEY=                                 # Firebase Cloud Messaging key
APN_KEY_ID=                                     # Apple Push Notification key ID
APN_TEAM_ID=                                    # Apple developer team ID
APN_KEY_PATH=./certificates/apn.p8              # Path to APN key file
PUSH_NOTIFICATION_TTL=86400                     # Time-to-live in seconds

#-------------------------------------------------------------------
# DEVELOPMENT & DEBUGGING
#-------------------------------------------------------------------
# Development Tools
ENABLE_SWAGGER=true                             # Enable Swagger UI for API docs
SWAGGER_PATH=/api-docs
ENABLE_GRAPHQL_PLAYGROUND=true                  # Enable GraphQL playground
GRAPHQL_PATH=/graphql
ENABLE_DEBUG_ENDPOINTS=true                     # Enable debug endpoints
PRETTY_PRINT_LOGS=true                          # Pretty print logs in development

# Testing & Validation
MOCK_EXTERNAL_APIS=false                        # Mock external API calls
MOCK_BLOCKCHAIN=false                           # Mock blockchain interactions
SEED_DATABASE=true                              # Seed database with test data
TEST_WALLET_MNEMONIC=                           # Mnemonic for test wallet generation